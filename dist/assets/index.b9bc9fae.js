import{d as x,J as G,a as W,u as N,v as $,K as Y,o as a,c as n,e,F as D,m as y,L as w,f as o,N as f,l as c,t as v,n as m,k,q as Z,M as U,O as ee,p as R,j as z,_ as Q,h as se,B as I,P as oe}from"./index.1c068c2f.js";import{u as te,a as h,v as ae,L as ne,b as ue}from"./vee-validate.esm.aeecef3b.js";import{u as ce}from"./index.e625cd97.js";const t=i=>(R("data-v-f5796fce"),i=i(),z(),i),ie={class:"account-box"},le={class:"toggle"},re=t(()=>e("i",{class:"iconfont icon-user"},null,-1)),de=c(" \u4F7F\u7528\u8D26\u53F7\u767B\u5F55 "),_e=[re,de],ve=t(()=>e("i",{class:"iconfont icon-msg"},null,-1)),pe=c(" \u4F7F\u7528\u77ED\u4FE1\u767B\u5F55 "),fe=[ve,pe],me={class:"form"},he={class:"form-item"},ge={class:"input"},Fe=t(()=>e("i",{class:"iconfont icon-user"},null,-1)),Be={key:0,class:"error"},Ce=t(()=>e("i",{class:"iconfont icon-warning"},null,-1)),ye={class:"form-item"},we={class:"input"},ke=t(()=>e("i",{class:"iconfont icon-lock"},null,-1)),xe={key:0,class:"error"},be=t(()=>e("i",{class:"iconfont icon-warning"},null,-1)),Ae={class:"form-item"},$e={class:"input"},De=t(()=>e("i",{class:"iconfont icon-user"},null,-1)),Ve={key:0,class:"error"},Ee=t(()=>e("i",{class:"iconfont icon-warning"},null,-1)),je={class:"form-item"},Me={class:"input"},qe=t(()=>e("i",{class:"iconfont icon-code"},null,-1)),Le={key:0,class:"error"},Se=t(()=>e("i",{class:"iconfont icon-warning"},null,-1)),Ne={class:"form-item"},Ue={class:"agree"},Ie=t(()=>e("span",null,"\u6211\u5DF2\u540C\u610F",-1)),Re=t(()=>e("a",{href:"javascript:;"},"\u300A\u9690\u79C1\u6761\u6B3E\u300B",-1)),ze=t(()=>e("span",null,"\u548C",-1)),Qe=t(()=>e("a",{href:"javascript:;"},"\u300A\u670D\u52A1\u6761\u6B3E\u300B",-1)),Te={key:0,class:"error"},He=t(()=>e("i",{class:"iconfont icon-warning"},null,-1)),Je=Z('<div class="action" data-v-f5796fce><a href="https://graph.qq.com/oauth2.0/authorize?client_id=100556005&amp;response_type=token&amp;scope=all&amp;redirect_uri=http%3A%2F%2Fwww.corho.com%3A8080%2F%23%2Flogin%2Fcallback" data-v-f5796fce><img src="https://qzonestyle.gtimg.cn/qzone/vas/opensns/res/img/Connect_logo_7.png" alt="QQ\u767B\u5F55" border="0" data-v-f5796fce></a><div class="url" data-v-f5796fce><a href="javascript:;" data-v-f5796fce>\u5FD8\u8BB0\u5BC6\u7801</a><a href="javascript:;" data-v-f5796fce>\u514D\u8D39\u6CE8\u518C</a></div></div>',1),Ke=x({name:"LoginForm"}),Oe=x({...Ke,setup(i){const d=G(),V=W(),{user:l}=N(),{time:g,start:H}=ce(),_=$("account"),{validate:J,resetForm:K}=te({validationSchema:ae,initialValues:{mobile:"13666666666",code:"123456",account:"xiaotuxian001",password:"123456",isAgree:!0}});Y(_,()=>{K()});const{value:F,errorMessage:E}=h("account"),{value:B,errorMessage:j}=h("password"),{value:b,errorMessage:M}=h("isAgree"),{value:p,errorMessage:q,validate:O}=h("mobile"),{value:C,errorMessage:L}=h("code"),P=async()=>{const r=await J();if(_.value==="account"){if(r.errors.account||r.errors.password||r.errors.isAgree)return;await l.login(F.value,B.value)}else{if(r.errors.mobile||r.errors.code||r.errors.isAgree)return;await l.mobileLogin(p.value,C.value)}const{cart:s}=N();s.mergeLocalCart();const A=V.query.redirectUrl||"/";d.push(A),U.success("\u767B\u5F55\u6210\u529F")},S=$(null),X=async()=>{var s;if(!(await O()).valid)return(s=S.value)==null?void 0:s.focus();await l.sendMobileMsg(p.value),H(),U.success("\u83B7\u53D6\u9A8C\u8BC1\u7801\u6210\u529F")};return(r,s)=>{const A=ee;return a(),n("div",ie,[e("div",le,[_.value==="mobile"?(a(),n("a",{key:0,href:"javascript:;",onClick:s[0]||(s[0]=u=>_.value="account")},_e)):(a(),n("a",{key:1,href:"javascript:;",onClick:s[1]||(s[1]=u=>_.value="mobile")},fe))]),e("div",me,[_.value==="account"?(a(),n(D,{key:0},[e("div",he,[e("div",ge,[Fe,y(e("input",{type:"text","onUpdate:modelValue":s[2]||(s[2]=u=>f(F)?F.value=u:null),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D\u6216\u624B\u673A\u53F7"},null,512),[[w,o(F)]])]),o(E)?(a(),n("div",Be,[Ce,c(v(o(E)),1)])):m("",!0)]),e("div",ye,[e("div",we,[ke,y(e("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=u=>f(B)?B.value=u:null),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,512),[[w,o(B)]])]),o(j)?(a(),n("div",xe,[be,c(v(o(j)),1)])):m("",!0)])],64)):(a(),n(D,{key:1},[e("div",Ae,[e("div",$e,[De,y(e("input",{ref_key:"mobileRef",ref:S,type:"text","onUpdate:modelValue":s[4]||(s[4]=u=>f(p)?p.value=u:null),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},null,512),[[w,o(p)]])]),o(q)?(a(),n("div",Ve,[Ee,c(v(o(q)),1)])):m("",!0)]),e("div",je,[e("div",Me,[qe,y(e("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=u=>f(C)?C.value=u:null),placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"},null,512),[[w,o(C)]]),e("span",{class:"code",onClick:X},v(o(g)>0?o(g):"\u53D1\u9001\u9A8C\u8BC1\u7801"),1)]),o(L)?(a(),n("div",Le,[Se,c(v(o(L)),1)])):m("",!0)])],64)),e("div",Ne,[e("div",Ue,[k(A,{modelValue:o(b),"onUpdate:modelValue":s[6]||(s[6]=u=>f(b)?b.value=u:null)},null,8,["modelValue"]),Ie,Re,ze,Qe]),o(M)?(a(),n("div",Te,[He,c(v(o(M)),1)])):m("",!0)]),e("a",{href:"javascript:;",class:"btn",onClick:P},"\u767B\u5F55")]),Je])}}});const Pe=Q(Oe,[["__scopeId","data-v-f5796fce"]]),T=i=>(R("data-v-753d3362"),i=i(),z(),i),Xe=c("\u6B22\u8FCE\u767B\u5F55"),Ge={class:"login-section"},We={class:"wrapper"},Ye={key:0,class:"account-box"},Ze={key:1,class:"qrcode-box"},es=T(()=>e("img",{src:oe,alt:""},null,-1)),ss=T(()=>e("p",null,[c("\u6253\u5F00 "),e("a",{href:"javascript:;"},"\u5C0F\u5154\u9C9CApp"),c(" \u626B\u7801\u767B\u5F55")],-1)),os=[es,ss],ts=x({name:"Login"}),as=x({...ts,setup(i){const d=$("account");return(V,l)=>(a(),n(D,null,[k(ne,null,{default:se(()=>[Xe]),_:1}),e("section",Ge,[e("div",We,[e("nav",null,[e("a",{class:I({active:d.value==="account"}),href:"javascript:;",onClick:l[0]||(l[0]=g=>d.value="account")},"\u8D26\u6237\u767B\u5F55",2),e("a",{class:I({active:d.value==="qrcode"}),href:"javascript:;",onClick:l[1]||(l[1]=g=>d.value="qrcode")},"\u626B\u7801\u767B\u5F55",2)]),d.value==="account"?(a(),n("div",Ye,[k(Pe)])):(a(),n("div",Ze,os))])]),k(ue)],64))}});const is=Q(as,[["__scopeId","data-v-753d3362"]]);export{is as default};
